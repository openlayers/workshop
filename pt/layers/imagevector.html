
<!DOCTYPE HTML>
<html lang="pt" >
    <head>
        <meta charset="UTF-8">
        <title>Fontes de imagens vetoriais · HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.1">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../controls/" />
    
    
    <link rel="prev" href="vector.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Escreva para pesquisar" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../basics/">
            
                <a href="../basics/">
            
                    
                    O Básico
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../basics/map.html">
            
                <a href="../basics/map.html">
            
                    
                    Criando um mapa
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../basics/dissect.html">
            
                <a href="../basics/dissect.html">
            
                    
                    Dissecando o seu mapa
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../basics/resources.html">
            
                <a href="../basics/resources.html">
            
                    
                    Recursos úteis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Camadas e Fontes de Dados
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="wms.html">
            
                <a href="wms.html">
            
                    
                    Fontes WMS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="cached.html">
            
                <a href="cached.html">
            
                    
                    Fontes de blocos de dados de imagem (tiles)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="proprietary.html">
            
                <a href="proprietary.html">
            
                    
                    Fornecedores proprietários de blocos de dados de imagem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="vector.html">
            
                <a href="vector.html">
            
                    
                    Dados vetoriais
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.5" data-path="imagevector.html">
            
                <a href="imagevector.html">
            
                    
                    Fontes de imagens vetoriais
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../controls/">
            
                <a href="../controls/">
            
                    
                    Controles e Interações
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../controls/scaleline.html">
            
                <a href="../controls/scaleline.html">
            
                    
                    Controle ScaleLine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../controls/select.html">
            
                <a href="../controls/select.html">
            
                    
                    Interação Select
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../controls/draw.html">
            
                <a href="../controls/draw.html">
            
                    
                    Interação Draw
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../controls/modify.html">
            
                <a href="../controls/modify.html">
            
                    
                    Interação Modify
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../vector/">
            
                <a href="../vector/">
            
                    
                    Tópicos sobre Vetores
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../vector/formats.html">
            
                <a href="../vector/formats.html">
            
                    
                    Formatos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../vector/style-intro.html">
            
                <a href="../vector/style-intro.html">
            
                    
                    Estilos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../vector/style.html">
            
                <a href="../vector/style.html">
            
                    
                    Personalização de estilos
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../custom-builds/">
            
                <a href="../custom-builds/">
            
                    
                    Builds Personalizados
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../custom-builds/concepts.html">
            
                <a href="../custom-builds/concepts.html">
            
                    
                    Conceitos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../custom-builds/create.html">
            
                <a href="../custom-builds/create.html">
            
                    
                    Criar builds personalizados
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Publicado com HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Fontes de imagens vetoriais</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="fontes-de-imagens-vetoriais">Fontes de imagens vetoriais</h1>
<p>No exemplo anterior usando a classe <code>ol.layer.Vector</code>, você pode ver que as features são redesenhadas continuamente durante o zoom (o tamanho dos símbolos que representam o ponto continua fixo). Com uma camada vetorial, o OpenLayers irá redesenhar a fonte de dados cada vez que o mapa sofrer algum deslocamento. Isto fornece uma renderização consistente das linhas, pontos, símbolos e rótulos de acordo com a resolução atual do mapa.</p>
<p>Uma estratégia alternativa é evitar essa re-renderização durante as transições, reposicionando e escalando a geometria em função do seu estado anterior. Isto é possível com o uso conjunto das classes <code>ol.layer.Image</code> e <code>ol.source.ImageVector</code>. Com esta combinação, &quot;snapshots&quot; dos seus dados são renderizados quando a visualização não está sendo alterada e estes snapshots são reusados durante as transições de visualização.</p>
<p>O examplo abaixo usa as duas classes citadas acima. Emborar este exemplo renderize somente uma pequena quantidade de dados, esta combinação seria apropriada para aplicações que renderizam uma grande quantidade de dados estáticos.</p>
<h2 id="olsourceimagevector"><code>ol.source.ImageVector</code></h2>
<p>Vamos agora voltar ao exemplo dos dados sobre terremotos:</p>
<pre><code class="lang-html"><span class="hljs-meta">&lt;!doctype <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/ol.css&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
      <span class="hljs-selector-id">#map</span> {
        <span class="hljs-attribute">height</span>: <span class="hljs-number">256px</span>;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">512px</span>;
      }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>OpenLayers example<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/loader.js&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My Map<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;map&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript">
      <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> ol.Map({
        <span class="hljs-attr">target</span>: <span class="hljs-string">&apos;map&apos;</span>,
        <span class="hljs-attr">layers</span>: [
          <span class="hljs-keyword">new</span> ol.layer.Tile({
            <span class="hljs-attr">title</span>: <span class="hljs-string">&apos;Global Imagery&apos;</span>,
            <span class="hljs-attr">source</span>: <span class="hljs-keyword">new</span> ol.source.TileWMS({
              <span class="hljs-attr">url</span>: <span class="hljs-string">&apos;https://ahocevar.com/geoserver/wms&apos;</span>,
              <span class="hljs-attr">params</span>: {<span class="hljs-attr">LAYERS</span>: <span class="hljs-string">&apos;nasa:bluemarble&apos;</span>, <span class="hljs-attr">TILED</span>: <span class="hljs-literal">true</span>}
            })
          }),
          <span class="hljs-keyword">new</span> ol.layer.Vector({
            <span class="hljs-attr">title</span>: <span class="hljs-string">&apos;Earthquakes&apos;</span>,
            <span class="hljs-attr">source</span>: <span class="hljs-keyword">new</span> ol.source.Vector({
              <span class="hljs-attr">url</span>: <span class="hljs-string">&apos;/data/layers/7day-M2.5.json&apos;</span>,
              <span class="hljs-attr">format</span>: <span class="hljs-keyword">new</span> ol.format.GeoJSON()
            }),
            <span class="hljs-attr">style</span>: <span class="hljs-keyword">new</span> ol.style.Style({
              <span class="hljs-attr">image</span>: <span class="hljs-keyword">new</span> ol.style.Circle({
                <span class="hljs-attr">radius</span>: <span class="hljs-number">3</span>,
                <span class="hljs-attr">fill</span>: <span class="hljs-keyword">new</span> ol.style.Fill({<span class="hljs-attr">color</span>: <span class="hljs-string">&apos;white&apos;</span>})
              })
            })
          })
        ],
        <span class="hljs-attr">view</span>: <span class="hljs-keyword">new</span> ol.View({
          <span class="hljs-attr">projection</span>: <span class="hljs-string">&apos;EPSG:4326&apos;</span>,
          <span class="hljs-attr">center</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
          <span class="hljs-attr">zoom</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">maxResolution</span>: <span class="hljs-number">0.703125</span>
        })
      });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 id="tarefas">Tarefas</h3>
<ol>
<li><p>Abra o arquivo <code>map.html</code> no seu editor de texto e copie o conteúdo do exemplo acima. Salve as alterações e confirme o funcionamento no navegador: /map.html</p>
</li>
<li><p>Altere a camada vetorial para:</p>
<pre><code class="lang-js"> <span class="hljs-keyword">new</span> ol.layer.Image({
   <span class="hljs-attr">title</span>: <span class="hljs-string">&apos;Earthquakes&apos;</span>,
   <span class="hljs-attr">source</span>: <span class="hljs-keyword">new</span> ol.source.ImageVector({
     <span class="hljs-attr">source</span>: <span class="hljs-keyword">new</span> ol.source.Vector({
       <span class="hljs-attr">url</span>: <span class="hljs-string">&apos;/data/layers/7day-M2.5.json&apos;</span>,
       <span class="hljs-attr">format</span>: <span class="hljs-keyword">new</span> ol.format.GeoJSON()
     }),
     <span class="hljs-attr">style</span>: <span class="hljs-keyword">new</span> ol.style.Style({
       <span class="hljs-attr">image</span>: <span class="hljs-keyword">new</span> ol.style.Circle({
       <span class="hljs-attr">radius</span>: <span class="hljs-number">3</span>,
         <span class="hljs-attr">fill</span>: <span class="hljs-keyword">new</span> ol.style.Fill({<span class="hljs-attr">color</span>: <span class="hljs-string">&apos;white&apos;</span>})
       })
     })
   })
 })
</code></pre>
</li>
<li><p>Recarregue a página /map.html no navegador</p>
<p><em>Nota</em> - Você verá os mesmos dados vetoriais, mas representados como uma imagem. Ainda será possível fazer a detecção das geometrias, mas os dados vetoriais terão uma qualidade menor. Assim, é essencialmente um trade-off entre desempenho e qualidade. </p>
</li>
</ol>
<h3 id="olhando-mais-de-perto">Olhando mais de perto</h3>
<p>Vamos examinar a criação da camada para entender o que está acontecendo.</p>
<pre><code class="lang-js">  <span class="hljs-keyword">new</span> ol.layer.Image({
    <span class="hljs-attr">title</span>: <span class="hljs-string">&apos;Earthquakes&apos;</span>,
    <span class="hljs-attr">source</span>: <span class="hljs-keyword">new</span> ol.source.ImageVector({
      <span class="hljs-attr">source</span>: <span class="hljs-keyword">new</span> ol.source.Vector({
        <span class="hljs-attr">url</span>: <span class="hljs-string">&apos;/data/layers/7day-M2.5.json&apos;</span>,
        <span class="hljs-attr">format</span>: <span class="hljs-keyword">new</span> ol.format.GeoJSON()
      }),
      <span class="hljs-attr">style</span>: <span class="hljs-keyword">new</span> ol.style.Style({
        <span class="hljs-attr">image</span>: <span class="hljs-keyword">new</span> ol.style.Circle({
        <span class="hljs-attr">radius</span>: <span class="hljs-number">3</span>,
          <span class="hljs-attr">fill</span>: <span class="hljs-keyword">new</span> ol.style.Fill({<span class="hljs-attr">color</span>: <span class="hljs-string">&apos;white&apos;</span>})
        })
      })
    })
  })
</code></pre>
<p>Nós estamos usando a classe <code>ol.layer.Image</code> ao invés da <code>ol.layer.Vector</code>. Entretanto, nós podemos ainda usar os dados vetoriais a partir da classe <code>ol.source.ImageVector</code>, fazendo uso da fonte original da classe <code>ol.source.Vector</code>. Observe que o estilo é fornecido para a configuração da classe <code>ol.source.ImageVector</code> e não para a camada.</p>
<h3 id="tarefas-de-bônus">Tarefas de bônus</h3>
<ol>
<li>Verifique se a detecção da feature continua funcionando registrando um listener <code>&apos;singleclick&apos;</code> ao mapa e chamando o método <code>forEachFeatureAtPixel</code> sobre ele. Exiba as informações retornadas abaixo da área do mapa.</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="vector.html" class="navigation navigation-prev " aria-label="Previous page: Dados vetoriais">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../controls/" class="navigation navigation-next " aria-label="Next page: Controles e Interações">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Fontes de imagens vetoriais","level":"1.3.5","depth":2,"next":{"title":"Controles e Interações","level":"1.4","depth":1,"path":"controls/README.md","ref":"controls/README.md","articles":[{"title":"Controle ScaleLine","level":"1.4.1","depth":2,"path":"controls/scaleline.md","ref":"controls/scaleline.md","articles":[]},{"title":"Interação Select","level":"1.4.2","depth":2,"path":"controls/select.md","ref":"controls/select.md","articles":[]},{"title":"Interação Draw","level":"1.4.3","depth":2,"path":"controls/draw.md","ref":"controls/draw.md","articles":[]},{"title":"Interação Modify","level":"1.4.4","depth":2,"path":"controls/modify.md","ref":"controls/modify.md","articles":[]}]},"previous":{"title":"Dados vetoriais","level":"1.3.4","depth":2,"path":"layers/vector.md","ref":"layers/vector.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"pt","gitbook":"*"},"file":{"path":"layers/imagevector.md","mtime":"2022-02-26T04:38:07.949Z","type":"markdown"},"gitbook":{"version":"3.7.1","time":"2022-02-26T04:38:18.240Z"},"basePath":"..","book":{"language":"pt"}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

