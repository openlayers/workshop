<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Styling concepts | OpenLayers Workshop</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-image-captions/image-captions.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../style.css">
    

        
    
    
    <link rel="next" href="../vector/style.html" />
    
    
    <link rel="prev" href="../vector/formats.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="4.2"
        data-chapter-title="Styling concepts"
        data-filepath="vector/style-intro.md"
        data-basepath=".."
        data-revision="Sat Mar 18 2017 20:22:12 GMT+0100 (CET)"
        data-innerlanguage="en">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
                
                <li>
                    <a href="/" target="blank" class="custom-link">OpenLayers Workshop</a>
                </li>
            
            

            
            <li class="divider"></li>
            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="basics/index.html">
            
                
                    <a href="../basics/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Basics
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="basics/map.html">
            
                
                    <a href="../basics/map.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Creating a map
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="basics/dissect.html">
            
                
                    <a href="../basics/dissect.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Dissecting your map
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="basics/resources.html">
            
                
                    <a href="../basics/resources.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Resources
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="layers/index.html">
            
                
                    <a href="../layers/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Layers and Sources
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="layers/wms.html">
            
                
                    <a href="../layers/wms.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        WMS sources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="layers/cached.html">
            
                
                    <a href="../layers/cached.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Tiled sources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="layers/proprietary.html">
            
                
                    <a href="../layers/proprietary.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Proprietary tile providers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="layers/vector.html">
            
                
                    <a href="../layers/vector.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Vector data
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="layers/imagevector.html">
            
                
                    <a href="../layers/imagevector.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Image vector source
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="controls/index.html">
            
                
                    <a href="../controls/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Controls
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="controls/scaleline.html">
            
                
                    <a href="../controls/scaleline.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Scale line control
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="controls/select.html">
            
                
                    <a href="../controls/select.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Select interaction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="controls/draw.html">
            
                
                    <a href="../controls/draw.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Draw interaction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="controls/modify.html">
            
                
                    <a href="../controls/modify.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Modify interaction
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="vector/index.html">
            
                
                    <a href="../vector/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Vector Topics
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="vector/formats.html">
            
                
                    <a href="../vector/formats.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Formats
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="4.2" data-path="vector/style-intro.html">
            
                
                    <a href="../vector/style-intro.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Styling concepts
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="vector/style.html">
            
                
                    <a href="../vector/style.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Custom styles
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="custom-builds/index.html">
            
                
                    <a href="../custom-builds/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Custom Builds
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="custom-builds/concepts.html">
            
                
                    <a href="../custom-builds/concepts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Concepts
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="custom-builds/create.html">
            
                
                    <a href="../custom-builds/create.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Create custom builds
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >OpenLayers Workshop</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="understanding-style">Understanding Style</h1>
<p>When styling HTML elements, you might use CSS like the following:</p>
<pre><code class="lang-css">  <span class="hljs-class">.someClass</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> blue</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border-width</span>:<span class="hljs-value"> <span class="hljs-number">1px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border-color</span>:<span class="hljs-value"> olive</span></span>;
  }</span>
</code></pre>
<p>The <code>.someClass</code> text is a selector (in this case it selects all elements that include the class name <code>&apos;someClass&apos;</code>) and the block that follows is a group of named properties and values, otherwise known as style declarations.</p>
<h2 id="layer-style">Layer style</h2>
<p>A vector layer can have styles. More specifically, a vector layer can be configured with an <code>ol.style.Style</code> object, an array of <code>ol.style.Style</code> objects, or a function that takes an <code>ol.Feature</code> instance and a resolution and returns an array of <code>ol.style.Style</code> objects.</p>
<p>Here&apos;s an example of a vector layer configured with a static style:</p>
<pre><code class="lang-js">  <span class="hljs-keyword">var</span> layer = <span class="hljs-keyword">new</span> ol.layer.Vector({
    source: <span class="hljs-keyword">new</span> ol.source.Vector(),
    style: <span class="hljs-keyword">new</span> ol.style.Style({
      <span class="hljs-comment">// ...</span>
    })
  });
</code></pre>
<p>And here&apos;s an example of a vector layer configured with a style function that applies a style to all features that have an attribute named <code>class</code> with a value of <code>&apos;someClass&apos;</code>:</p>
<pre><code class="lang-js">  <span class="hljs-keyword">var</span> layer = <span class="hljs-keyword">new</span> ol.layer.Vector({
    source: <span class="hljs-keyword">new</span> ol.source.Vector(),
    style: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">feature, resolution</span>) </span>{
      <span class="hljs-keyword">if</span> (feature.get(<span class="hljs-string">&apos;class&apos;</span>) === <span class="hljs-string">&apos;someClass&apos;</span>) {
        <span class="hljs-comment">// create styles...</span>
        <span class="hljs-keyword">return</span> styles;
      }
    },
  });
</code></pre>
<h2 id="symbolizers">Symbolizers</h2>
<p>The equivalent of a declaration block in CSS is a <code>symbolizer</code> in OpenLayers (these are typically instances of <code>ol.style</code> classes). To paint polygon features with a blue background and a 1 pixel wide olive stroke, you would use two symbolizers like the following:</p>
<pre><code class="lang-js">  <span class="hljs-keyword">new</span> ol.style.Style({
    fill: <span class="hljs-keyword">new</span> ol.style.Fill({
      color: <span class="hljs-string">&apos;blue&apos;</span>
    }),
    stroke: <span class="hljs-keyword">new</span> ol.style.Stroke({
      color: <span class="hljs-string">&apos;olive&apos;</span>,
      width: <span class="hljs-number">1</span>
    })
  });
</code></pre>
<p>Depending on the geometry type, different symbolizers can be applied. Lines work like polygons, but they cannot have a fill. Points can be styled with <code>ol.style.Circle</code> or <code>ol.style.Icon</code>. The former is used to render circle shapes, and the latter uses graphics from file (e.g. png images). Here is an example for a style with a circle:</p>
<pre><code class="lang-js">  <span class="hljs-keyword">new</span> ol.style.Circle({
    radius: <span class="hljs-number">20</span>,
    fill: <span class="hljs-keyword">new</span> ol.style.Fill({
      color: <span class="hljs-string">&apos;#ff9900&apos;</span>,
      opacity: <span class="hljs-number">0.6</span>
    }),
    stroke: <span class="hljs-keyword">new</span> ol.style.Stroke({
      color: <span class="hljs-string">&apos;#ffcc00&apos;</span>,
      opacity: <span class="hljs-number">0.4</span>
    })
  });
</code></pre>
<h2 id="olstylestyle"><code>ol.style.Style</code></h2>
<p>An <code>ol.style.Style</code> object has 4 keys: <code>fill</code>, <code>image</code>, <code>stroke</code> and <code>text</code>. It also has an optional <code>zIndex</code> property. The style function will return an array of <code>ol.style.Style</code> objects.</p>
<p>If you want all features to be colored red except for those that have a <code>class</code> attribute with the value of <code>&quot;someClass&quot;</code> (and you want those features colored blue with an 1px wide olive stroke), you would create a style function that looked like the following (by the way, it is important to create objects outside of the style function so they can be reused, but for simplicity reasons the objects are created inline in the example below):</p>
<pre><code class="lang-js">  <span class="hljs-keyword">var</span> primaryStyle = <span class="hljs-keyword">new</span> ol.style.Style({
    fill: <span class="hljs-keyword">new</span> ol.style.Fill({
      color: <span class="hljs-string">&apos;blue&apos;</span>
    }),
    stroke: <span class="hljs-keyword">new</span> ol.style.Stroke({
      color: <span class="hljs-string">&apos;olive&apos;</span>,
      width: <span class="hljs-number">1</span>
    })
  });

  <span class="hljs-keyword">var</span> otherStyle = <span class="hljs-keyword">new</span> ol.style.Style({
    fill: <span class="hljs-keyword">new</span> ol.style.Fill({
      color: <span class="hljs-string">&apos;red&apos;</span>
    })
  });

  layer.setStyle(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">feature, resolution</span>) </span>{
    <span class="hljs-keyword">if</span> (feature.get(<span class="hljs-string">&apos;class&apos;</span>) === <span class="hljs-string">&apos;someClass&apos;</span>) {
      <span class="hljs-keyword">return</span> primaryStyle;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> otherStyle;
    }    
  });
</code></pre>
<p><em>Note</em> - It is important to create the styles outside of the actual style function.  The style function is called many times during rendering, and you&apos;ll get smoother animation if your style functions don&apos;t create a lot of garbage.</p>
<p>A feature also has a style config option that can take a function having only resolution as argument. This makes it possible to style individual features (based on resolution).</p>
<h2 id="pseudoclasses">Pseudo-classes</h2>
<p>CSS allows for pseudo-classes on selectors. These basically limit the application of style declarations based on contexts that are not easily represented in the selector, such as mouse position, neighboring elements, or browser history. In OpenLayers, a somewhat similar concept is having a style config option on an <code>ol.interaction.Select</code>.</p>
<p>An example is:</p>
<pre><code class="lang-js">  <span class="hljs-keyword">var</span> select = <span class="hljs-keyword">new</span> ol.interaction.Select({
    style: <span class="hljs-keyword">new</span> ol.style.Style({
      fill: <span class="hljs-keyword">new</span> ol.style.Fill({
        color: <span class="hljs-string">&apos;rgba(255,255,255,0.5)&apos;</span>
      })
    })
  });
</code></pre>
<p>With the basics of styling under your belt, it&apos;s time to move on to <a href="style.html">styling vector layers</a>.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../vector/formats.html" class="navigation navigation-prev " aria-label="Previous page: Formats"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../vector/style.html" class="navigation navigation-next " aria-label="Next page: Custom styles"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"image-captions":{"caption":"_CAPTION_","variable_name":"_pictures"},"include":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
